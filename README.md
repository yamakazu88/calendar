# アプリケーション名
通院カレンダー

# アプリケーションの概要
このアプロケーションでは、通院記録をカレンダーに登録し管理ができます。
また、マイページからは体調管理と処方管理も行えます。
体調管理では、体温、体重、血圧、体調（5点満点）で登録することができ、それぞれグラフで日々の変化を確認することができます。
処方管理では、薬の名前、どのような症状に効くのか、処方箋の写真、メモを登録することができます。また、どの症状に効くのかの項目はタグで管理され、タグごとに絞り込み検索することができるので、症状に合わせた薬を探しやすくなります。

# URL
http://18.176.141.101/

# テスト用アカウント
メールアドレス：aaa@aaa
パスワード：test1111

# 利用方法
①通院記録の投稿
右上の「投稿する」ボタンを押すと通院記録の投稿ページへ遷移します。
投稿ページにて各項目を入力し、「投稿」ボタンを押すと投稿が完了し、タイトルがカレンダーに表示されます。
投稿一覧にて各投稿の詳細ページに遷移できたり、投稿を編集・削除できます。

②体調管理の記録
上部の「体調管理」ボタンを押すと体調管理ページへと遷移します。
「記録する」ボタンを押すと体調記録投稿ページへ遷移するので、各項目を入力し「投稿」ボタンを押すと記録できます。
また、体調管理ページの各項目のボタン（体温、体重、最高血圧、最低血圧、体調）を押すと、それぞれのグラフが表示されます。
投稿一覧にて各投稿の詳細ページに遷移できたり、投稿を編集・削除できます。

③処方管理
上部の「処方管理」ボタンを押すと処方管理ページへと遷移します。
「薬を登録する」ボタンを押すと処方登録ページへ遷移するので、各項目を入力し「登録」ボタンを押すと薬を登録できます。
入力する際の画像の登録は任意です。
タグは複数加えることができます。その場合はタグ同士を「,」でつなげて下さい。
投稿一覧にて各投稿の詳細ページに遷移できたり、投稿を編集・削除できます。
また、タグをクリックすると同じタグがつけられた投稿のみに絞り込むことができます。

④マイページ
上部の「ユーザー名」を押すとマイページへと遷移します。
マイページ上では、通院記録を投稿する際に選択したカテゴリ別の投稿を一覧で確認することができます。
また、体調管理、処方管理ページへ遷移できるボタンもあります。

# 目指した課題解決
健康のために通院が増えてきた方や体調管理が必要な方、処方される薬が多い方などが、通院記録と体調管理、処方管理を一括で行えるようにしたい。

# 洗い出した要件定義

## ユーザー管理機能
### 目的
新規登録とログインをして自分のカレンダーを見れるようにするため。

### 詳細
アクセスすると、まずログインページもしくは新規登録ページに遷移する。
ログインページでは、メールアドレスとパスワードを入力し、
新規登録ページでは、ニックネーム、名前、フリガナ、生年月日、メールアドレス、パスワードを入力する。

## 通院記録投稿機能
### 目的
通院記録を投稿（保存）でき、投稿した内容の一部がカレンダーで確認できるようにするため。

### 詳細
投稿ボタンを押すと、投稿フォームに遷移する。
フォームでは、タイトル、日付、カテゴリ、通院理由、メモを入力するフォームが存在する。
詳細ボタンを押すと、通院記録の詳細ページへ遷移する。

## マイページ機能
### 目的
自分の通院記録をマイページで確認できるようにするため。

### 詳細
ユーザー情報と、週間カレンダーの表示、記録一覧をマイページで確認できる。

## カテゴリ別一覧表示
### 目的
診療科別に通院記録を確認できるようにするため。

### 詳細
マイページ上に診療科別に一覧が確認できる。

## 投稿検索機能
### 目的
保存した通院記録を検索できるようにするため。

### 詳細
検索フォームにタイトルを入力して検索をかけると、マッチした通院記録が表示される。

## 詳細検索機能
### 目的
タイトル名や日付、診療科名で絞り込みができるようにするため。

### 詳細
検索結果一覧ページに詳細検索フォームがあり、そこで条件を設定し絞り込みができる。

## 体調管理機能
### 目的
日々の体調を記録し、体の異変に気がつけるようにするため。

### 詳細
マイページ上から体調管理ページへ遷移でき、入力フォームから情報を保存する。
保存されたデータを元にグラフが表示されている。

## 処方管理機能
### 目的
処方された薬を写真つきで登録し、あとで必要な時に探しやすくするため。

### 詳細
マイページ上から処方管理ページへ遷移でき、入力フォームから情報を保存する。
保存された処方情報をタグ別に絞り込みができる。


# 実装した機能についてのGIFと説明
## ユーザー管理機能
### 説明
メールアドレスとパスワードを入力することでログインができます。
また、必要な項目を全て入力することで新規登録ができます。

<!-- ### GIF -->


## 通院記録投稿機能
### 説明
通院記録を投稿し、トップページのカレンダーに表示できます。
投稿フォームでは、タイトル、通院日、診療科、通院理由、メモを入力できます。
また、投稿した内容は編集、削除できる。

<!-- ### GIF -->

## マイページ機能
### 説明
ページ右上のユーザー名をクリックするとマイページへ遷移できます。
マイページでは、これまでの通院記録一覧と週間カレンダー、診療科別の一覧を確認できます。

<!-- ### GIF -->

## 投稿検索機能
### 説明
検索フォームからタイトル名を入力し検索ボタンを押すと、検索結果一覧表示ページへ遷移します。

<!-- ### GIF -->

## 詳細検索機能
### 説明
検索結果一覧表示ページに詳細検索フォームがあり、タイトル名、日付、診療科カテゴリで絞り込み検索ができます。

<!-- ### GIF -->

## 体調管理機能
### 説明
マイページにある体調管理ページボタンから体調管理ページへ遷移できる。
ここでは体温、体重、血圧、体調（５段階評価）を日々記録することができます。
また、各項目のグラフも表示されるため、日々の体調の変化を確認することができます。

<!-- ### GIF -->

## 処方管理機能
### 説明
マイページにある処方管理ページボタンから処方管理ページへ遷移できる。
ここでは薬の名前、画像、タグ、メモを入力し薬の情報を登録することができます。
画像は処方された際にもらえる薬の説明が書かれた用紙を写真で撮って保存します。
タグは症状別にタグ付けを行います。複数のタグをつけることができ、タグ同士は「,」でつなげます。（例：頭痛,発熱）
また、一覧ページではタグをクリックすると絞り込みができます。

<!-- ### GIF -->


# 実装予定の機能

## プロフィール登録機能
### 目的
ユーザーの詳細情報を登録できるようにするため。

### 詳細
マイページ上から血液型や病歴などを登録することができる。


## 掲示板機能
### 目的
同じ症状に苦しんでいる方や通院に悩んでいる方同士で情報を共有できるようにするため。

### 詳細
掲示板ページからルームを作成。ルーム内ではコメント投稿することができる。


# データベース設計
## Usersテーブル

| Column             | Type     | Options                   |
|--------------------|----------|---------------------------|
| first_name         | string   | null: false               |
| last_name          | string   | null: false               |
| first_name_reading | string   | null: false               |
| last_name_reading  | string   | null: false               |
| nickname           | string   | null: false               |
| birthday           | date     | null: false               |
| email              | string   | null: false, unique: true |
| password           | string   | null: false               |

### Association

- has_many :posts
- has_many :conditions
- has_many :medicines



## Postsテーブル

| Column     | Type       | Options           |
|------------|------------|-------------------|
| start_time | datetime   | null: false       |
| title      | string     | null: false       |
| reason     | string     | null: false       |
| memo       | text       |                   |
| user       | references | foreign_key: true |
|category    | references | foreign_key: true |

### Association

- belongs_to :user
- belongs_to :category



## Categoriesテーブル

| Column | Type       | Options                   |
|--------|------------|---------------------------|
| name   | string     | null: false, unique: true |

### Association

- has_many :posts


## Conditionsテーブル

| Column      | Type       | Options           |
|-------------|------------|-------------------|
| start_time  | datetime   | null: false       |
| temperature | float      |                   |
| weight      | float      |                   |
| blood_max   | integer    |                   |
| blood_min   | integer    |                   |
| condition   | integer    | null: false       |
| memo        | text       |                   |
| user        | references | foreign_key: true |

### Association

- belongs_to :user


## Medicinesテーブル

| Column     | Type       | Options           |
|------------|------------|-------------------|
| name       | string     | null: false       |
| start_time | date       | null: false       |
| memo       | text       |                   |
| user       | references | foreign_key: true |

### Association

- belongs_to :user


# ローカルでの動作方法
